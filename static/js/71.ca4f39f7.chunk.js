"use strict";(self.webpackChunktestapp_roox=self.webpackChunktestapp_roox||[]).push([[71],{4071:function(e,l,i){i.r(l),i.d(l,{default:function(){return Z}});var s=i(885),a=i(2791),r=i(4976),n=i(8544),d={profile__edit:"profile_profile__edit__KQTaD"},o=i(1413),t=i(1134),u=i(1265),c=i(56),m="profileForm_input__wrapper__tkuNz",p="profileForm_input__error__yl-ti",f="profileForm_submitButton__3pdW2",v="profileForm_error__text__UoSet",h=i(184),x=c.Ry({name:c.Z_().matches(/^([^0-9]*)$/,"the name field cannot contain numbers").required(),userName:c.Z_().required(),email:c.Z_().email("email should have correct format").required(),street:c.Z_().required(),city:c.Z_().required(),zipcode:c.Z_().matches(/^([^A-Z,a-z]*)$/,"Zip-Code must contain numbers ").required(),phone:c.Z_().matches(/^([^A-Z,a-z]*)$/,"the phone must contain numbers ").required()}).required(),_=function(e){var l,i,s,a,r,n,d,c=e.profile,_=e.profileAddress,j=e.readOnly,Z=e.onSubmit,b=(0,t.cI)({mode:"onBlur",resolver:(0,u.X)(x)}),N=b.register,y=b.handleSubmit,O=b.reset,g=b.formState,S=g.errors,z=g.isValid;return(0,h.jsxs)("form",{onSubmit:y((function(e){Z(e),O()})),children:[(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{children:"Name"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.name?p:""},N("name")),{},{defaultValue:null===c||void 0===c?void 0:c.name,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(l=S.name)||void 0===l?void 0:l.message}),(0,h.jsx)("label",{children:"User name"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.userName?p:""},N("userName")),{},{defaultValue:null===c||void 0===c?void 0:c.username,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(i=S.userName)||void 0===i?void 0:i.message}),(0,h.jsx)("label",{children:"E-mail"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.email?p:""},N("email")),{},{defaultValue:null===c||void 0===c?void 0:c.email,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(s=S.email)||void 0===s?void 0:s.message}),(0,h.jsx)("label",{children:"Street"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.street?p:""},N("street")),{},{defaultValue:null===_||void 0===_?void 0:_.street,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(a=S.street)||void 0===a?void 0:a.message}),(0,h.jsx)("label",{children:"City"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.city?p:""},N("city")),{},{defaultValue:null===_||void 0===_?void 0:_.city,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(r=S.city)||void 0===r?void 0:r.message}),(0,h.jsx)("label",{children:"Zip code"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.zipcode?p:""},N("zipcode")),{},{defaultValue:null===_||void 0===_?void 0:_.zipcode,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(n=S.zipcode)||void 0===n?void 0:n.message}),(0,h.jsx)("label",{children:"Phone"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({className:S.phone?p:""},N("phone")),{},{defaultValue:null===c||void 0===c?void 0:c.phone,readOnly:j})),(0,h.jsx)("p",{className:v,children:null===(d=S.phone)||void 0===d?void 0:d.message}),(0,h.jsx)("label",{children:"Website"}),(0,h.jsx)("input",(0,o.Z)((0,o.Z)({},N("website")),{},{defaultValue:null===c||void 0===c?void 0:c.website,readOnly:j})),(0,h.jsx)("label",{children:"Comment"}),(0,h.jsx)("textarea",(0,o.Z)({},N("comment")))]}),(0,h.jsx)("button",{disabled:!z,type:"submit",className:f,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},j=i(6871),Z=function(){var e=(0,a.useState)(!0),l=(0,s.Z)(e,2),i=l[0],o=l[1],t=(0,a.useState)(!1),u=(0,s.Z)(t,2),c=u[0],m=u[1],p=(0,j.UO)(),f=Number(p.id),v=(0,a.useContext)(n.S),x=(0,j.s0)();(0,a.useEffect)((function(){return null===v||void 0===v||v.getProfile(f),function(){null===v||void 0===v||v.unsubscribeProfile()}}),[]);return(0,h.jsxs)("div",{className:d.profile,children:[(0,h.jsxs)("div",{className:d.profile__edit,children:[(0,h.jsx)("h2",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,h.jsx)(r.z,{disabled:c,onClick:function(){o(!1),m(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),(0,h.jsx)(_,{profile:null===v||void 0===v?void 0:v.profile,profileAddress:null===v||void 0===v?void 0:v.profile.address,readOnly:i,onSubmit:function(e){console.log(JSON.stringify(e)),x("/",{replace:!0})}})]})}}}]);
//# sourceMappingURL=71.ca4f39f7.chunk.js.map