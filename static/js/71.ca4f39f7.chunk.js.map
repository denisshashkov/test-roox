{"version":3,"file":"static/js/71.ca4f39f7.chunk.js","mappings":"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","sources":["webpack://testapp-roox/./src/components/profile/profile.module.scss?148c","webpack://testapp-roox/./src/components/forms/profileForm.module.scss?d3d6","components/forms/ProfileForm.tsx","components/profile/ProfilePage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile__edit\":\"profile_profile__edit__KQTaD\"};","// extracted by mini-css-extract-plugin\nexport default {\"input__wrapper\":\"profileForm_input__wrapper__tkuNz\",\"input__error\":\"profileForm_input__error__yl-ti\",\"submitButton\":\"profileForm_submitButton__3pdW2\",\"error__text\":\"profileForm_error__text__UoSet\"};","import React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { AddressType, UserType } from \"../../types/types\";\r\nimport { FormData } from \"../../types/types\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\nimport style from \"./profileForm.module.scss\";\r\n\r\ntype PropsType = {\r\n  profile: UserType | undefined;\r\n  profileAddress: AddressType | undefined;\r\n  readOnly: boolean;\r\n  onSubmit: (data: FormData) => void;\r\n};\r\n\r\nconst schema = yup\r\n  .object({\r\n    name: yup\r\n      .string()\r\n      .matches(/^([^0-9]*)$/, \"the name field cannot contain numbers\")\r\n      .required(),\r\n    userName: yup.string().required(),\r\n    email: yup.string().email(\"email should have correct format\").required(),\r\n    street: yup.string().required(),\r\n    city: yup.string().required(),\r\n    zipcode: yup\r\n      .string()\r\n      .matches(/^([^A-Z,a-z]*)$/, \"Zip-Code must contain numbers \")\r\n      .required(),\r\n    phone: yup\r\n      .string()\r\n      .matches(/^([^A-Z,a-z]*)$/, \"the phone must contain numbers \")\r\n      .required(),\r\n  })\r\n  .required();\r\n\r\nexport const ProfileForm: React.FC<PropsType> = ({\r\n  profile,\r\n  profileAddress,\r\n  readOnly,\r\n  onSubmit,\r\n}) => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors, isValid },\r\n  } = useForm<FormData>({ mode: \"onBlur\", resolver: yupResolver(schema) });\r\n  const submitHandler = (data: FormData) => {\r\n    onSubmit(data);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(submitHandler)}>\r\n      <div className={style.input__wrapper}>\r\n        <label>Name</label>\r\n        <input\r\n          className={errors.name ? style.input__error : \"\"}\r\n          {...register(\"name\")}\r\n          defaultValue={profile?.name}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.name?.message}</p>\r\n        <label>User name</label>\r\n        <input\r\n          className={errors.userName ? style.input__error : \"\"}\r\n          {...register(\"userName\")}\r\n          defaultValue={profile?.username}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.userName?.message}</p>\r\n        <label>E-mail</label>\r\n        <input\r\n          className={errors.email ? style.input__error : \"\"}\r\n          {...register(\"email\")}\r\n          defaultValue={profile?.email}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.email?.message}</p>\r\n        <label>Street</label>\r\n        <input\r\n          className={errors.street ? style.input__error : \"\"}\r\n          {...register(\"street\")}\r\n          defaultValue={profileAddress?.street}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.street?.message}</p>\r\n        <label>City</label>\r\n        <input\r\n          className={errors.city ? style.input__error : \"\"}\r\n          {...register(\"city\")}\r\n          defaultValue={profileAddress?.city}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.city?.message}</p>\r\n        <label>Zip code</label>\r\n        <input\r\n          className={errors.zipcode ? style.input__error : \"\"}\r\n          {...register(\"zipcode\")}\r\n          defaultValue={profileAddress?.zipcode}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.zipcode?.message}</p>\r\n        <label>Phone</label>\r\n        <input\r\n          className={errors.phone ? style.input__error : \"\"}\r\n          {...register(\"phone\")}\r\n          defaultValue={profile?.phone}\r\n          readOnly={readOnly}\r\n        />\r\n        <p className={style.error__text}>{errors.phone?.message}</p>\r\n        <label>Website</label>\r\n        <input\r\n          {...register(\"website\")}\r\n          defaultValue={profile?.website}\r\n          readOnly={readOnly}\r\n        />\r\n        <label>Comment</label>\r\n        <textarea {...register(\"comment\")} />\r\n      </div>\r\n      <button disabled={!isValid} type=\"submit\" className={style.submitButton}>\r\n        Отправить\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Button } from \"../ui/Button\";\r\nimport { UserContext } from \"../../context/Context\";\r\nimport style from \"./profile.module.scss\";\r\nimport { ProfileForm } from \"./../forms/ProfileForm\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { FormData } from \"../../types/types\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ProfilePage: React.FC = () => {\r\n  const [readOnly, setReadOnly] = useState<boolean>(true);\r\n  const [disabled, setDisabled] = useState<boolean>(false);\r\n  const params = useParams();\r\n  const paramsId = Number(params.id);\r\n  const data = useContext(UserContext);\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    data?.getProfile(paramsId);\r\n    return () => {\r\n      data?.unsubscribeProfile();\r\n    };\r\n  }, []);\r\n  const editHandler = () => {\r\n    setReadOnly(false);\r\n    setDisabled(true);\r\n  };\r\n\r\n  const handleSubmit = (data: FormData) => {\r\n    console.log(JSON.stringify(data));\r\n    navigate(\"/\", { replace: true });\r\n  };\r\n  return (\r\n    <div className={style.profile}>\r\n      <div className={style.profile__edit}>\r\n        <h2>Профиль пользователя</h2>\r\n        <Button disabled={disabled} onClick={editHandler}>\r\n          Редактировать\r\n        </Button>\r\n      </div>\r\n      <ProfileForm\r\n        profile={data?.profile}\r\n        profileAddress={data?.profile.address}\r\n        readOnly={readOnly}\r\n        onSubmit={handleSubmit}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"names":["schema","yup","name","matches","required","userName","email","street","city","zipcode","phone","ProfileForm","profile","profileAddress","readOnly","onSubmit","useForm","mode","resolver","yupResolver","register","handleSubmit","reset","formState","errors","isValid","data","className","style","defaultValue","message","username","website","disabled","type","useState","setReadOnly","setDisabled","params","useParams","paramsId","Number","id","useContext","UserContext","navigate","useNavigate","useEffect","getProfile","unsubscribeProfile","Button","onClick","address","console","log","JSON","stringify","replace"],"sourceRoot":""}